<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <title>タイピングゲーム</title>
  <style>
    body {
      padding-top: 40px;
      font-family: 'Courier New', sans-serif;
      text-align: center;
    }
    #target {
      font-size: 48px;
      letter-spacing: 3px;
    }
    .info {
      color: #ccc;
    }
  </style>
</head>
<body>
  <p id="target"></p>
  <p class="info">
    Letters count: <span id="score"></span>,
    Miss count: <span id="miss"></span>
  </p>
  <script>
    (function() {
      'use strict';
      
      var currentWord = 'apple';
      var currentLocation = 0;
      var score = 0;
      var miss = 0;
      var target = document.getElementById('target');
      var scoreLabel = document.getElementById('score');
      var missLabel = document.getElementById('miss');
      
      target.innerHTML = currentWord;
      scoreLabel.innerHTML = score;
      missLabel.innerHTML = miss;
      
      window.addEventListener('keyup', function(e) {
        if (String.fromCharCode(e.keyCode) === currentWord[currentLocation].toUpperCase()) {
          currentLocation++;
          var placeholder = '';
          for (var i = 0; i < currentLocation; i++) {
            placeholder += '_';
          }
          target.innerHTML = placeholder + currentWord.substring(currentLocation);
          score++;
          scoreLabel.innerHTML = score;
        } else {
          miss++;
          missLabel.innerHTML = miss;
        }
      });
    })();
  </script>
</body>
</html>
